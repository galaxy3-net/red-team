#!/bin/bash

case $1 in

  authenticate)
    bash -c "$(curl -s https://raw.githubusercontent.com/galaxy3-net/red-team/krk/azure/arm/authenticate)"
    exit 0
    ;;

  nsgrules)  pwsh -Command "iwr https://raw.githubusercontent.com/galaxy3-net/red-team/krk/azure/arm/nsgrules.ps1 | iex"
    exit 0
    ;;

  net1)  pwsh -Command "iwr https://raw.githubusercontent.com/galaxy3-net/red-team/krk/azure/arm/net1.ps1 | iex"
    exit 0
    ;;

  redteam) pwsh -Command "iwr https://raw.githubusercontent.com/galaxy3-net/red-team/krk/azure/arm/resource_group.ps1 -UseBasicParsing | iex"
    exit 0
    ;;

  redteamsg)  pwsh -Command "iwr https://raw.githubusercontent.com/galaxy3-net/red-team/krk/azure/arm/redteamsg.ps1 | iex"
    exit 0
    ;;

  setup) bash -c "$(curl -s https://raw.githubusercontent.com/galaxy3-net/red-team/krk/azure/arm/setup)"
    exit 0
    ;;

  *) echo "${1} is not a valid subcommand"
    exit 1
    ;;
esac

